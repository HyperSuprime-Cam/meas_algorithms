#<? cfg paf dictionary ?>
#
# 
target: PcaPsfDeterminer

definitions: {
    nonLinearSpatialFit: {
        type: "bool"
        description: "Use non-linear fitter for spatial variation of Kernel"
        minOccurs: 0
        maxOccurs: 1
        default: false
    }
    nEigenComponents: {
        type: "int"
        description: "number of eigen components for PSF kernel creation"
        minOccurs: 1
        maxOccurs: 1
        default: 3
    }
    spatialOrder: {
        type: "int"
        description: "specify spatial order for PSF kernel creation"
        minOccurs: 1
        maxOccurs: 1
        default: 2
    }
    sizeCellX: {
        type: "int"
        description: "size of cell used to determine PSF (pixels, column direction)"
        minOccurs: 1
        maxOccurs: 1
        allowed: {
            min: 10
        }
        default: 256
    }
    sizeCellY: {
        type: "int"
        description: "size of cell used to determine PSF (pixels, row direction)"
        minOccurs: 1
        maxOccurs: 1
        allowed: {
            min: 10
        }
        default: 256
    }
    nStarPerCell: {
        type: "int"
        description: "number of stars per psf cell for PSF kernel creation"
        minOccurs: 1
        maxOccurs: 1
        default: 3
    }
    kernelSize: {
        type: "double"
        description: "radius of the kernel to create, relative to the square root of the stellar quadrupole moments"
        minOccurs: 1
        maxOccurs: 1
        default: 5.0
    }
    kernelSizeMin: {
        type: "int"
        description: "Minimum radius of the kernel"
        minOccurs: 1
        maxOccurs: 1
        default: 13
    }
    kernelSizeMax: {
        type: "int"
        description: "Maximum radius of the kernel"
        minOccurs: 1
        maxOccurs: 1
        default: 45
    }
    borderWidth: {
        type: "int"
        description: "Number of pixels to ignore around the edge of PSF candidate postage stamps"
        minOccurs: 1
        maxOccurs: 1
        default: 0
    }
    nStarPerCellSpatialFit: {
        type: "int"
        description: "number of stars per psf Cell for spatial fitting"
        minOccurs: 1
        maxOccurs: 1
        default: 5
    }
    constantWeight: {
        type: "bool"
        description: "Should each PSF candidate be given the same weight, independent of magnitude?"
        minOccurs: 0
        maxOccurs: 1
        default: true
    }
    nIterForPsf: {
        type: "int"
        description: "number of iterations of PSF candidate star list"
        minOccurs: 0
        maxOccurs: 1
        default: 3
    }
    tolerance: {
        type: "double"
        description: "tolerance of spatial fitting"
        minOccurs: 1
        maxOccurs: 1
        default: 1e-2
    }
    lambda: {
        type: "double"
        description: "floor for variance is lambda*data"
        minOccurs: 0
        maxOccurs: 1
        default: 0.05
    }
    reducedChi2ForPsfCandidates: {
        type: "double"
        description: "for psf candidate evaluation"
        minOccurs: 1
        maxOccurs: 1
        default: 2.0
    }
    spatialReject: {
        type: "double"
        description: "Rejection threshold (stdev) for candidates based on spatial fit"
        minOccurs: 1
        maxOccurs: 1
        default: 3.0
    }
}
